{"version":3,"file":"vue.js","sources":["../src/observe/array.js","../src/observe/dep.js","../src/observe/index.js","../src/state.js","../src/compiler/astParser.js","../src/compiler/generate.js","../src/compiler/index.js","../src/observe/watcher.js","../src/lifecycle/index.js","../src/init.js","../src/vdom/vnode.js","../src/vdom/index.js","../src/index.js"],"sourcesContent":["let oldArrayProto = Array.prototype;\r\n// 也是创建实例的一种方式\r\nexport let newArrayProto = Object.create(oldArrayProto);\r\nlet methods = ['push','pop','shift','unshift','splice','sort','reverse']\r\n\r\nmethods.forEach(item => {\r\n  newArrayProto[item] = function(...args) {\r\n    // console.log('sas',args)\r\n    // console.log('this',this)\r\n    // 谁调的array指向谁\r\n   const result = oldArrayProto[item].call(this,...args);\r\n  //  console.log('this2',this)\r\n   // 对新增的数据再次进行劫持\r\n   let inserted;\r\n   let ob = this.__ob__\r\n   switch(methods) {\r\n    case 'push':\r\n    case 'unshift':\r\n    inserted = args;\r\n    \r\n    break;\r\n    case 'splice':\r\n      // console.log(args)\r\n      inserted = args.slice(2);\r\n      \r\n\r\n    default:\r\n      break;\r\n   }\r\n\r\n   if(inserted) { // 对新增内容再次进行观测\r\n    ob.observeArray(inserted);\r\n   }\r\n\r\n   return result;\r\n  }\r\n})\r\n\r\n","let id = 0;\r\nclass Dep{ // 属性的dep要收集watcher\r\n  constructor() {\r\n    this.id = id++;\r\n    this.subs = []; // 这里存放着当前属性对应的所有watcher\r\n  }\r\n  depend() {\r\n    // 我们不希望放重复的watcher\r\n    Dep.target.addDep(this); // Watcher记住当前dep\r\n    // this.subs.push(Dep.target); // 会重复 所以不用\r\n  }\r\n\r\n  addSub(watcher) {\r\n    this.subs.push(watcher);\r\n  }\r\n\r\n  notify() {\r\n    this.subs.forEach(watcher => watcher.update());\r\n  }\r\n}\r\n\r\nDep.target = null;\r\n\r\nexport default Dep;","import { newArrayProto } from \"./array\";\r\nimport Dep from \"./dep\";\r\n\r\nclass Observer{\r\n  constructor(target) {\r\n    // 存储this；\r\n    Object.defineProperty(target,'__ob__',{\r\n      value:this,\r\n      enumerable:false\r\n    }) \r\n    // console.log('ii',target)\r\n    // console.log('111',target.__proto__)\r\n   \r\n    // 处理数组\r\n    if(Array.isArray(target)) {\r\n      target.__proto__ = newArrayProto;\r\n      // console.log(target)\r\n      this.observeArray(target);\r\n     \r\n    }else{\r\n      // 处理对象\r\n      this.walk(target);\r\n    }\r\n   \r\n  }\r\n\r\n  // 观测数组\r\n  observeArray(target) {\r\n    target.forEach(item => obersve(item))\r\n  }\r\n\r\n  // 观察对象\r\n  walk(target) {\r\n    for(let key in target) {\r\n      defineReactive(target,key,target[key]);\r\n    }\r\n  }\r\n}\r\n\r\n// 数据劫持\r\nexport function obersve(target) {\r\n  // console.log(target)\r\n  if(typeof target !== 'object' || target == null) return;\r\n  if(target.__ob__ instanceof Observer) return target.__ob__;\r\n  return new Observer(target) \r\n \r\n}\r\n\r\n// 确定响应式\r\nexport function defineReactive(target,key,value) {\r\n  obersve(value);\r\n  let dep = new Dep(); // 每一个属性都有一个dep\r\n  Object.defineProperty(target,key,{\r\n    get() {\r\n      if(Dep.target) {\r\n        dep.depend(); // 让这个属性收集器记住这个watcher\r\n      }\r\n      return value;\r\n    },\r\n    set(newValue) {\r\n      obersve(newValue)\r\n      if(value !== newValue) {\r\n        value = newValue;\r\n        dep.notify(); // 通知更新 \r\n      }\r\n    }\r\n  })\r\n}"," import {obersve} from \"./observe/index\";\r\n // 初始化状态 \r\n function initState(vm) {\r\n  // 对数据进行劫持 判断状态\r\n  const opts = vm.$options; // 获取所有的选项\r\n  \r\n  if(opts.data) {\r\n    initData(vm);\r\n  }\r\n\r\n}\r\n// 初始化数据\r\nfunction initData(vm) {\r\n  // console.log(this);\r\n  let data = vm.$options.data;\r\n  // console.log(data)\r\n\r\n  vm._data = data;\r\n  obersve(data);\r\n\r\n\r\n  // 数据代理\r\n  for(let key in data) {\r\n    myProxy(vm,'_data',key)\r\n  }\r\n  \r\n  \r\n}\r\n// 数据代理\r\nfunction myProxy(vm,target,key) {\r\n  Object.defineProperty(vm,key,{\r\n    get() {\r\n      return vm[target][key];\r\n    },\r\n    set(newValue) {\r\n      vm[target][key] = newValue;\r\n    }\r\n  })\r\n} \r\n\r\n\r\n\r\n\r\nexport default initState;","// Regular Expressions for parsing tags and attributes\r\nconst attribute =\r\n  /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\n// 标签名\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\r\n\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\r\n// <div\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\r\n// > />\r\nconst startTagClose = /^\\s*(\\/?)>/;\r\n// </div>\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\r\n/**\r\n * \r\n * tag,type,attrs,children \r\n * \r\n * {\r\n *  tag:tagName,\r\n *  type:1,\r\n *  attrs：{\r\n *    name:'',\r\n *    type:''\r\n * \r\n *  },\r\n * \r\n *  children:[{\r\n *    name:''\r\n * \r\n *  }]\r\n *  \r\n * }\r\n */\r\n\r\n// 创建AST语法树\r\nexport function parseHtmlToAst (template) {\r\n  // console.log(template);\r\n  let text,\r\n      root, // 最终的树\r\n      currentParent,\r\n      stack = [];\r\n  while (template) {\r\n\r\n    let textEnd = template.indexOf('<'); // 返回数组中给定元素的索引；\r\n    // 第一项\r\n    if(textEnd === 0) {\r\n      const startTagMatch = parseStartTag();\r\n      if(startTagMatch) {\r\n        start(startTagMatch.tagName,startTagMatch.attrs);\r\n        continue;\r\n      }\r\n\r\n      const endTagMatch = template.match(endTag);\r\n      if(endTagMatch) {\r\n        advance(endTagMatch[0].length);\r\n        end(endTagMatch[1]);\r\n        continue;\r\n      }\r\n  \r\n    }\r\n\r\n    if(textEnd > 0) {\r\n      text = template.substring(0,textEnd);\r\n      // console.log('text',text)\r\n      // console.log(template)\r\n    }\r\n\r\n\r\n    if(text) {\r\n      advance(text.length);\r\n      chars(text);\r\n    }\r\n    // break;\r\n  }\r\n\r\n\r\n\r\n\r\n // 编译开始节点 对每一个节点进行操作 \r\n  function parseStartTag() {\r\n    const start = template.match(startTagOpen);\r\n    // console.log('start',start); \r\n    let end,attr;\r\n\r\n    if(start) {\r\n      // match就是开始节点div的AST树\r\n      // console.log(start)\r\n      const match = {\r\n        tagName:start[1],\r\n        attrs:[],\r\n      \r\n      }\r\n      advance(start[0].length);\r\n      // 没有匹配到 /> 但是匹配到了属性 处理属性\r\n      while(!(end = template.match(startTagClose)) && (attr = template.match(attribute))) {\r\n        // console.log(attr)\r\n        match.attrs.push({\r\n          name:attr[1],\r\n          value:attr[3] || attr[4] || attr[5]\r\n        });\r\n        advance(attr[0].length)\r\n        // console.log('match',match)\r\n        // return match\r\n      }\r\n\r\n      if(end) {\r\n        advance(end[0].length);\r\n        // console.log('match',match)\r\n        return match;\r\n      }\r\n      \r\n    }\r\n    \r\n  }\r\n\r\n\r\n\r\n  // 处理开始 每一个节点的开始\r\n  function start (tagName,attrs) {\r\n    // // \r\n    // console.log('------开始-------');\r\n    // console.log(tagName,attrs);\r\n\r\n    const element = createASTElement(tagName,attrs);\r\n    // console.log('ele',element);\r\n\r\n    // 如果 没有节点\r\n    if(!root) {\r\n      root = element;\r\n\r\n    }\r\n    currentParent = element;\r\n    stack.push(element);\r\n  }\r\n\r\n  // 处理结束 每一个节点的结束\r\n  function end (tagName) {\r\n    // console.log('------结束-------');\r\n    // console.log('end:',tagName);\r\n    const element = stack.pop(); // 删除的这一项就是当前element\r\n    currentParent = stack[stack.length -1];\r\n    if(currentParent) {\r\n      element.parent = currentParent;\r\n      currentParent.children.push(element);\r\n    }\r\n  }\r\n  \r\n  // 处理文本\r\n  function chars (text) {\r\n    // console.log('------文本-------');\r\n    // console.log(text);\r\n    text = text.trim();\r\n    if(text.length > 0) {\r\n      currentParent.children.push({\r\n        type:3,\r\n        text\r\n      })\r\n    }\r\n   \r\n   \r\n  }\r\n  // 截取剩余的template\r\n  function advance (n) {\r\n    // console.log('------剩余部分----')\r\n    template = template.substring(n);\r\n  }\r\n  \r\n  // 创建出AST语法树节点\r\n  function createASTElement(tagName,attrs) {\r\n    return {\r\n      /*\r\n      {\r\n        tag:tagName,\r\n        type:1,\r\n        children:[],\r\n        attrs,\r\n        parent:\r\n      }\r\n      */\r\n\r\n      tag:tagName,\r\n      type:1,\r\n      children:[],  \r\n      attrs,\r\n      parent\r\n    }\r\n  }\r\n  return root;\r\n}\r\n\r\n","/**\r\n * \r\n * <div id=\"app\">\r\n    <h3>hello world</h3>\r\n    <h3>{{name}}</h3>\r\n   </div>\r\n\r\n   _c(); 创建元素\r\n   _v(); 创建文本节点\r\n   _s(); 处理{{name}} _s(name)\r\n\r\n\r\n   render() // 模板字符串\r\n */\r\n\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\r\n// 每次只处理一个节点；\r\nfunction formatProps(attrs) {\r\n  // console.log(attrs);\r\n  // 处理style属性\r\n  let attrStr = '';\r\n  for (let i = 0; i < attrs.length; i++) {\r\n    let attr = attrs[i];\r\n    console.log('attr',attr)\r\n    if (attr.name === 'style') {\r\n      let styleAttrs = {};\r\n      attr.value.split(';').map((styleAttr) => {\r\n        let [key, value] = styleAttr.split(':');\r\n        styleAttrs[key] = value;\r\n      });\r\n      attr.value = styleAttrs;\r\n      // console.log('11',styleAttrs)\r\n    }\r\n    // 不是style属性\r\n    attrStr += `${attr.name} : ${JSON.stringify(attr.value)},`;\r\n  }\r\n  console.log('所有属性:',`{${attrStr.slice(0, -1)}}`)\r\n  return `{${attrStr.slice(0, -1)}}`\r\n}\r\n\r\nfunction generateChild(node) {\r\n  if(node.type === 1) {\r\n    return generate(node);\r\n  }else if(node.type === 3) {\r\n    // let text = node.text;\r\n    // if(!defaultTagRE.text(text)) {\r\n    //   return `_v(${JSON.stringify(text)})`; // 处理只有单独的字符串\r\n    // }\r\n    // let match,index,lastIndex = defaultTagRE.lastIndex  = 0;\r\n    // while(match = defaultTagRE.exec(text)) {\r\n    //   index = match.index;\r\n    //   if(index > lastIndex) {\r\n\r\n    //   }\r\n    // }\r\n  }\r\n}\r\n\r\n// \r\nfunction getChildren(ast) {\r\n  const children = ast.children;\r\n  console.log('children',children)\r\n  if(children) {\r\n    return children.map(c => generateChild(c)).join(',');\r\n  }\r\n}\r\nexport function generate(ast) {\r\n\r\n  // render函数\r\n  // function render(h) {\r\n  //   return `\r\n  //     _c('div', { id:\"app\",style:{\"color\":\"skyblue\" } }\r\n  //     ,_c('h3',_v(\"hello world\")\r\n  //     ,_c('h3',_s(name))))\r\n\r\n  //   `\r\n  // }\r\n  let children = getChildren(ast);\r\n\r\n  let code = `_c('${ast.tag}',${ast.attrs.length > 0 ? `${formatProps(ast.attrs)}` : 'undefined'\r\n    }${children ? `,${children}`:''})\r\n  `;\r\n}","import { parseHtmlToAst } from './astParser';\r\nimport { generate } from './generate';\r\nexport function compileToFunction(template) {\r\n  // 1.将template转化成语法树；\r\n  // 2.生成render（） 方法；-> _c, _v, _s\r\n  // 3.render执行后的结果就是虚拟dom；\r\n  // 4.patch 虚拟DOM转换成真是DOM\r\n\r\n  // 转化成语法树模块\r\n  const ast = parseHtmlToAst(template);\r\n  console.log('ast',ast);\r\n  // 生成虚拟DOM 返回出来一串字符串\r\n  const code = generate(ast);\r\n  const render = new Function(`with(this){ return ${code}}`)\r\n  // console.log(code);\r\n\r\n  return render;\r\n\r\n}","import Dep from \"./dep\";\r\n\r\n/**\r\n * 1.当我们创建渲染watcher时 会把当前渲染的这个watcher放到Dep.target这个属性身上;\r\n * 2.调用getter（_rander）去vm上取值 走到Object.definepropyte.get;\r\n */\r\nlet id = 0;\r\nclass Watcher {\r\n  constructor(vm,fn,options) {\r\n    this.id = id++;\r\n    this.renderWatcher = options;\r\n    this.getter = fn; // getter意味着调用这个函数可以发生取值\r\n    this.deps = []; // watcher记录dep;\r\n    this.depsId = new Set();\r\n    this.get();\r\n  }\r\n\r\n  get() {\r\n    Dep.target = this; // this指当前这个watcher\r\n    this.getter(); // 会去vm上取值 这就是_updata(),也会去vm上取值\r\n    Dep.target = null;\r\n  }\r\n\r\n  addDep(dep) {\r\n    let id = dep.id;\r\n    if(!this.depsId.has(id)) {\r\n      this.deps.push(dep); // watcher记住dep\r\n      this.depsId.add(id);\r\n      dep.addSub(this); // dep记住watcher\r\n    }\r\n  }\r\n\r\n  update() {\r\n    this.get();\r\n  }\r\n}\r\n\r\n // 需要给每一个属性增加一个dep，目的就是收集watcher\r\n\r\nexport default Watcher;","import Watcher from \"../observe/watcher\";\r\n\r\nexport function mountComponent(vm) {\r\n  // _render根据数据创建一个最新的虚拟DOM\r\n  // _updata创建真实DOM\r\n  new Watcher(vm,() => {\r\n    vm._update(vm._render()); // 我们会将vm_update封装到watcher中\r\n  },true);\r\n  \r\n}\r\n\r\nexport function liftcycleMixin(Vue) {\r\n  // 添加更新视图的方法 虚拟DOM转化成真实DOM\r\n  Vue.prototype._update = function(vnode) {\r\n    // console.log(vnod)\r\n    const vm = this;\r\n  }\r\n}","import initState from \"./state\";\r\nimport { compileToFunction } from './compiler/index.js';\r\nimport { mountComponent } from './lifecycle/index.js';\r\nexport function MixIns (Vue) {\r\n  // 初始化数据\r\n  Vue.prototype.init = function(options) {\r\n    const vm = this;\r\n    vm.$options = options; // 将用户的选项挂载到实例上\r\n\r\n\r\n    // 初始化状态\r\n    initState(vm);\r\n\r\n    // 判断render > template > el\r\n    if(options.el) {\r\n      vm.$mount(options.el);\r\n    }\r\n  }\r\n\r\n  Vue.prototype.$mount = function(el) {\r\n    const vm = this;\r\n    el = document.querySelector(el);\r\n    let ops = vm.$options;\r\n    if(!ops.render) { //先查找是否有template\r\n      let template;\r\n      // 如果没有写template\r\n      if(!ops.template && el) {\r\n        template = el.outerHTML;\r\n      }else {\r\n        if(el) {\r\n          template = ops.template;\r\n        }\r\n      }\r\n\r\n\r\n      // 如果有template\r\n      if(template) {\r\n        // 需要对模板进行编译\r\n        const render = compileToFunction(template);\r\n        ops.render = render;\r\n      }\r\n    }\r\n    // 生命周期函数\r\n    mountComponent(vm);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","export function createElement(tags,attrs = {}, ...children) {\r\n  return vnode(tag, attrs, children)\r\n}\r\n\r\nexport function createTextVnode(text) {\r\n  return vnode(undefined,undefined,undefined,undefined,text)\r\n}\r\n\r\nfunction vnode(tag, props, children) {\r\n  return {\r\n    tag,\r\n    props,\r\n    children,\r\n    text\r\n  }\r\n}","import { createElement, createTextVnode} from './vnode'\r\n\r\nexport function renderMixin(Vue) {\r\n  Vue.prototype._c = function() {\r\n    return createElement(...arguments);\r\n  }\r\n\r\n  Vue.prototype._s = function(value) {\r\n    if(value === null) return;\r\n    return typeof value === 'object' ? JSON.stringify(value) : value;\r\n  }\r\n\r\n  Vue.prototype._v = function(text) {\r\n    return createTextVnode(text);\r\n  }\r\n \r\n\r\n  Vue.prototype._render = function() {\r\n    const vm = this;\r\n    const render = vm.$optins.render;\r\n    const vnode = render.call(vm); // 虚拟节点\r\n  }\r\n}","import { MixIns } from \"./init\";\r\nimport { liftcycleMixin } from './lifecycle/index.js';\r\nimport { renderMixin } from './vdom/index.js';\r\n\r\nfunction Vue(options) {\r\n  this.init(options);\r\n}\r\n\r\nMixIns(Vue);\r\nliftcycleMixin(Vue);\r\nrenderMixin(Vue);\r\n\r\nexport default Vue;"],"names":["oldArrayProto","Array","prototype","newArrayProto","Object","create","methods","forEach","item","args","result","call","inserted","ob","__ob__","slice","observeArray","id","Dep","subs","target","addDep","watcher","push","update","Observer","defineProperty","value","enumerable","isArray","__proto__","walk","obersve","key","defineReactive","dep","get","depend","set","newValue","notify","initState","vm","opts","$options","data","initData","_data","myProxy","attribute","ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","parseHtmlToAst","template","text","root","currentParent","stack","textEnd","indexOf","startTagMatch","parseStartTag","start","tagName","attrs","endTagMatch","match","advance","length","end","substring","chars","attr","name","element","createASTElement","pop","parent","children","trim","type","n","tag","formatProps","attrStr","i","console","log","styleAttrs","split","map","styleAttr","JSON","stringify","generateChild","node","generate","getChildren","ast","c","join","compileToFunction","code","render","Function","Watcher","fn","options","renderWatcher","getter","deps","depsId","Set","has","add","addSub","mountComponent","_update","_render","liftcycleMixin","Vue","vnode","MixIns","init","el","$mount","document","querySelector","ops","outerHTML","createElement","tags","createTextVnode","undefined","props","renderMixin","_c","arguments","_s","_v","$optins"],"mappings":"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"}